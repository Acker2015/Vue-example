<html>
   <head>
      <title>Vue Example</title>
      <meta charset="utf-8">
      <style>
      </style>
   </head>

   <body>
      
      <script src='../lib/vue.js' type="text/javascript"></script>
      <script type="text/javascript">
         Vue.component('currency-input', {
            template: `<span>$<input ref='input' v-bind:value='value' v-on:input="updateValue($event.target.value)"></span>`,
            props: ['value'],
            methods: {
               updateValue: function(value){
                  var formatedValue = value.trim().slice(0, value.indexOf('.') + 3);
                  if(formatedValue != value){
                     this.$refs.input.value = formatedValue;
                  }
                  this.$emit('input', Number(formatedValue));
               }
            }
         })
      </script>
   </body>
</html>